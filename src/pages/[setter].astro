---
// Dynamic setter page
import Base from '../layouts/Base.astro';
import setters from '../data/setters.json';

// Generate static paths for all setters
export function getStaticPaths() {
  return setters.map(setter => ({
    params: { setter: setter.id },
    props: { setter }
  }));
}

// Get the setter data from props
const { setter } = Astro.props;
---
<Base setter={setter}>
  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-inner container">
      <div class="hero-content">
        <div class="hero-badge">Asesoría personalizada</div>
        <h1>Transforma tu negocio con soluciones digitales a medida</h1>
        <p class="subtitle">
          {setter.name}, {setter.role} en DoubleTres, te ayudará a identificar oportunidades 
          de crecimiento a través de la tecnología.
        </p>
        <div class="hero-cta">
          <a href="#form" class="btn primary">Solicitar consultoría gratuita</a>
          <a href="#beneficios" class="btn-text">Conocer beneficios →</a>
        </div>
      </div>
      
      <div class="hero-visual">
        <div class="setter-card">
          <div class="setter-photo-container">
            <img 
              src={setter.photo} 
              alt={setter.name} 
              class="setter-photo"
              width="320"
              height="320"
              loading="eager"
            />
          </div>
          <div class="setter-info">
            <h3 class="setter-name">{setter.name}</h3>
            <p class="setter-role">{setter.role}</p>
            <div class="setter-rating">
              <span class="stars">★★★★★</span>
              <span class="reviews">+50 clientes asesorados</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="scroll-indicator">
      <span>Desliza para ver más</span>
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
  </section>

  <!-- Floating WhatsApp Button -->
  <a href={setter.whatsapp_link} class="whatsapp-float" target="_blank" rel="noopener" aria-label="Contactar por WhatsApp">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="24" height="24" fill="currentColor" aria-hidden="true">
      <path fill="currentColor" d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"></path>
    </svg>
  </a>

  <!-- Benefits Section -->
  <section id="beneficios" class="benefits">
    <div class="container">
      <div class="section-header">
        <h2>Soluciones diseñadas para tu crecimiento</h2>
        <p class="section-subtitle">
          Con {setter.name} y el equipo de DoubleTres, obtendrás:
        </p>
      </div>
      
      <div class="benefits-grid">
        <div class="benefit-card">
          <div class="benefit-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="var(--dt-red)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M12 8V12L15 15" stroke="var(--dt-red)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <h3>Eficiencia inmediata</h3>
          <p>Automatizamos tus procesos para que ahorres tiempo y recursos desde el primer día.</p>
        </div>
        
        <div class="benefit-card">
          <div class="benefit-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 20H21" stroke="var(--dt-red)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M16.5 3.49998C16.8978 3.10216 17.4374 2.87866 18 2.87866C18.2786 2.87866 18.5544 2.93353 18.8118 3.04014C19.0692 3.14674 19.303 3.303 19.5 3.49998C19.697 3.69697 19.8532 3.93082 19.9598 4.18819C20.0665 4.44556 20.1213 4.72141 20.1213 4.99998C20.1213 5.27856 20.0665 5.55441 19.9598 5.81178C19.8532 6.06915 19.697 6.303 19.5 6.49998L7 19L3 20L4 16L16.5 3.49998Z" stroke="var(--dt-red)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <h3>Diseño centrado en el usuario</h3>
          <p>Interfaces intuitivas que mejoran la experiencia de tus clientes y equipos.</p>
        </div>
        
        <div class="benefit-card">
          <div class="benefit-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="var(--dt-red)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M12 6V12L16 14" stroke="var(--dt-red)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <h3>Soporte continuo</h3>
          <p>Nuestro equipo está disponible para evolucionar tu solución según tus necesidades.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta">
    <div class="container">
      <div class="cta-content">
        <h2>¿Listo para transformar tu negocio?</h2>
        <p>Agenda una consultoría gratuita con {setter.name} y descubre cómo podemos ayudarte a alcanzar tus objetivos.</p>
        <a href="#form" class="btn primary">Solicitar consultoría</a>
      </div>
    </div>
  </section>

  <!-- Contact Form -->
  <section id="form" class="contact-form">
    <div class="container">
      <div class="form-container">
        <div class="form-header">
          <h2>Solicita tu consultoría gratuita</h2>
          <p>Completa el formulario y {setter.name} se pondrá en contacto contigo en menos de 24 horas.</p>
        </div>
        
        <form method="post" action="/api/send" class="lead-form">
          <input type="hidden" name="setter" value={setter.name} />
          
          <div class="form-group">
            <label for="nombre">Nombre completo</label>
            <input 
              type="text" 
              id="nombre" 
              name="nombre" 
              placeholder="Tu nombre" 
              required 
              class="form-input"
            />
          </div>
          
          <div class="form-group">
            <label for="empresa">Empresa</label>
            <input 
              type="text" 
              id="empresa" 
              name="empresa" 
              placeholder="Nombre de tu empresa" 
              class="form-input"
            />
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="email">Correo electrónico</label>
              <input 
                type="email" 
                id="email" 
                name="email" 
                placeholder="tu@email.com" 
                required 
                class="form-input"
              />
            </div>
            
            <div class="form-group">
              <label for="whatsapp">WhatsApp (opcional)</label>
              <input 
                type="tel" 
                id="whatsapp" 
                name="whatsapp" 
                placeholder="+57 300 123 4567" 
                class="form-input"
              />
            </div>
          </div>
          
          <div class="form-group">
            <label for="mensaje">Cuéntanos sobre tu proyecto</label>
            <textarea 
              id="mensaje" 
              name="mensaje" 
              rows="4" 
              placeholder="¿En qué podemos ayudarte?" 
              class="form-input"
            ></textarea>
          </div>
          
          <div class="form-footer">
            <button type="submit" class="btn primary">Enviar solicitud</button>
            <p class="form-note">Al enviar aceptas nuestra <a href="#politica">Política de Privacidad</a>.</p>
          </div>
        </form>
      </div>
    </div>
  </section>
  

</Base>

<style>
  /* Hero Section */
  .hero {
    position: relative;
    padding: 12rem 0 6rem;
    background: linear-gradient(135deg, #f8f9fc 0%, #ffffff 100%);
    overflow: hidden;
  }
  
  .hero-content {
    max-width: 640px;
    position: relative;
    z-index: 2;
  }
  
  .hero-badge {
    display: inline-block;
    background: rgba(227, 27, 35, 0.1);
    color: var(--dt-red);
    font-size: 0.875rem;
    font-weight: 600;
    padding: 0.5rem 1rem;
    border-radius: 100px;
    margin-bottom: 1.5rem;
  }
  
  .hero h1 {
    font-size: 3.5rem;
    line-height: 1.1;
    letter-spacing: -0.02em;
    margin-bottom: 1.5rem;
    color: var(--dt-dark);
  }
  
  .hero .subtitle {
    font-size: 1.25rem;
    color: #424245;
    margin-bottom: 2.5rem;
    line-height: 1.6;
    max-width: 90%;
  }
  
  .hero-cta {
    display: flex;
    gap: 1.5rem;
    align-items: center;
    margin-top: 2.5rem;
  }
  
  .btn-text {
    color: var(--dt-navy);
    font-weight: 500;
    transition: var(--transition);
  }
  
  .btn-text:hover {
    color: var(--dt-red);
  }
  
  .hero-visual {
    position: relative;
    z-index: 1;
  }
  
  .setter-card {
    background: white;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 20px 40px rgba(11, 37, 69, 0.1);
    max-width: 380px;
    margin: 0 auto;
  }
  
  .setter-photo-container {
    position: relative;
    padding-top: 100%;
    overflow: hidden;
  }
  
  .setter-photo {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .setter-info {
    padding: 1.5rem;
    text-align: center;
  }
  
  .setter-name {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--dt-dark);
    margin: 0 0 0.25rem;
  }
  
  .setter-role {
    color: var(--dt-red);
    font-weight: 500;
    margin: 0 0 1rem;
  }
  
  .setter-rating {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    color: #f5a623;
    font-size: 0.9375rem;
  }
  
  .reviews {
    color: #86868b;
    font-size: 0.8125rem;
  }
  
  .scroll-indicator {
    position: absolute;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    color: #86868b;
    font-size: 0.875rem;
    animation: bounce 2s infinite;
  }
  
  @keyframes bounce {
    0%, 20%, 50%, 80%, 100% {
      transform: translateY(0) translateX(-50%);
    }
    40% {
      transform: translateY(-10px) translateX(-50%);
    }
    60% {
      transform: translateY(-5px) translateX(-50%);
    }
  }
  
  /* Benefits Section */
  .benefits {
    padding: 6rem 0;
    background: white;
  }
  
  .section-header {
    text-align: center;
    max-width: 700px;
    margin: 0 auto 4rem;
  }
  
  .section-header h2 {
    font-size: 2.5rem;
    color: var(--dt-dark);
    margin-bottom: 1rem;
  }
  
  .section-subtitle {
    font-size: 1.25rem;
    color: #424245;
    line-height: 1.6;
  }
  
  .benefits-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 3rem;
  }
  
  .benefit-card {
    background: #f8f9fc;
    border-radius: 16px;
    padding: 2.5rem 2rem;
    transition: var(--transition);
  }
  
  .benefit-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(11, 37, 69, 0.1);
  }
  
  .benefit-icon {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    background: rgba(227, 27, 35, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1.5rem;
  }
  
  .benefit-card h3 {
    font-size: 1.25rem;
    color: var(--dt-dark);
    margin-bottom: 1rem;
  }
  
  .benefit-card p {
    color: #6e6e73;
    font-size: 1rem;
    line-height: 1.6;
    margin: 0;
  }
  
  /* CTA Section */
  .cta {
    padding: 6rem 0;
    background: linear-gradient(135deg, #0b2545 0%, #0a1f38 100%);
    color: white;
    text-align: center;
  }
  
  .cta-content {
    max-width: 700px;
    margin: 0 auto;
  }
  
  .cta h2 {
    color: white;
    margin-bottom: 1.5rem;
  }
  
  .cta p {
    font-size: 1.25rem;
    color: rgba(255, 255, 255, 0.9);
    margin-bottom: 2.5rem;
    line-height: 1.6;
  }
  
  .cta .btn.primary {
    background: white;
    color: var(--dt-navy);
    padding: 1rem 2.5rem;
    font-size: 1.125rem;
  }
  
  .cta .btn.primary:hover {
    background: #f0f0f0;
    transform: translateY(-2px);
  }
  
  /* Contact Form */
  .contact-form {
    padding: 6rem 0;
    background: #f8f9fc;
  }
  
  .form-container {
    max-width: 800px;
    margin: 0 auto;
    background: white;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 10px 40px rgba(11, 37, 69, 0.1);
  }
  
  .form-header {
    padding: 3rem 3rem 1.5rem;
    text-align: center;
    border-bottom: 1px solid #f0f0f0;
  }
  
  .form-header h2 {
    font-size: 2rem;
    color: var(--dt-dark);
    margin-bottom: 1rem;
  }
  
  .form-header p {
    color: #6e6e73;
    font-size: 1.125rem;
    margin: 0;
  }
  
  .lead-form {
    padding: 2.5rem 3rem 3rem;
  }
  
  .form-group {
    margin-bottom: 1.5rem;
  }
  
  .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
  }
  
  label {
    display: block;
    font-size: 0.9375rem;
    font-weight: 500;
    color: var(--dt-dark);
    margin-bottom: 0.5rem;
  }
  
  .form-input {
    width: 100%;
    padding: 0.875rem 1.25rem;
    font-size: 1rem;
    border: 1px solid #e0e0e0;
    border-radius: 10px;
    transition: var(--transition);
    background: #f9f9f9;
  }
  
  .form-input:focus {
    outline: none;
    border-color: var(--dt-red);
    box-shadow: 0 0 0 3px rgba(227, 27, 35, 0.1);
    background: white;
  }
  
  textarea.form-input {
    min-height: 120px;
    resize: vertical;
  }
  
  .form-footer {
    margin-top: 2rem;
    text-align: center;
  }
  
  .form-note {
    font-size: 0.8125rem;
    color: #86868b;
    margin: 1rem 0 0;
  }
  
  .form-note a {
    color: var(--dt-red);
    text-decoration: none;
  }
  
  /* Trust Badges */
  .trust-badges {
    padding: 3rem 0;
    background: white;
    border-top: 1px solid #f0f0f0;
  }
  
  .trust-badges .container {
    text-align: center;
  }
  
  .trust-badges p {
    color: #86868b;
    font-size: 0.9375rem;
    margin-bottom: 1.5rem;
  }
  
  .badges {
    display: flex;
    justify-content: center;
    gap: 2.5rem;
    flex-wrap: wrap;
  }
  
  .badges span {
    color: #c0c0c0;
    font-size: 1.25rem;
    font-weight: 500;
  }
  
  /* Responsive */
  @media (max-width: 1024px) {
    .hero h1 {
      font-size: 3rem;
    }
    
    .hero .subtitle {
      font-size: 1.125rem;
    }
    
    .hero-cta {
      flex-direction: column;
      align-items: flex-start;
      gap: 1rem;
    }
    
    .section-header h2 {
      font-size: 2rem;
    }
    
    .section-subtitle {
      font-size: 1.125rem;
    }
  }
  
  @media (max-width: 768px) {
    .hero {
      padding: 8rem 0 4rem;
      text-align: center;
    }
    
    .hero .subtitle {
      max-width: 100%;
    }
    
    .hero-cta {
      align-items: center;
    }
    
    .form-row {
      grid-template-columns: 1fr;
      gap: 1rem;
    }
    
    .form-header {
      padding: 2rem 1.5rem 1rem;
    }
    
    .lead-form {
      padding: 1.5rem 1.5rem 2.5rem;
    }
  }
  
  @media (max-width: 480px) {
    .hero h1 {
      font-size: 2.25rem;
    }
    
    .hero-badge {
      font-size: 0.75rem;
      padding: 0.375rem 0.875rem;
    }
    
    .benefits-grid {
      grid-template-columns: 1fr;
    }
  }

  /* Floating WhatsApp Button */
  .whatsapp-float {
    position: fixed;
    right: 1.25rem;
    bottom: 1.25rem;
    width: 56px;
    height: 56px;
    border-radius: 999px;
    background: #25D366;
    color: white;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    z-index: 999;
    transition: transform .2s ease, box-shadow .2s ease, opacity .2s ease;
  }

  .whatsapp-float:hover {
    transform: translateY(-2px);
    box-shadow: 0 14px 34px rgba(0,0,0,0.2);
    opacity: .95;
  }
</style>
